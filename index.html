<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¨Ø³ØªÙ‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§ÙØºØ§Ù†Ø³ØªØ§Ù†</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family: Vazirmatn,Tahoma,sans-serif;}
body{min-height:100vh; display:flex; justify-content:center; align-items:flex-start; background:#1e272e; padding:10px;}
.card{width:100%; max-width:520px; max-height:90vh; overflow-y:auto; background: #232f3f; padding:30px; border-radius:20px; color:white; box-shadow:0 10px 25px rgba(0,0,0,0.5); display:flex; flex-direction:column;}
.title{text-align:center; font-size:24px; font-weight:bold; margin-bottom:15px; color:#00bfff;}
label{display:block; margin-bottom:6px; font-weight:bold;}
input, select, button, textarea{width:100%; padding:15px; margin-bottom:20px; border-radius:15px; border:none; outline:none; font-size:16px;}
input, select, textarea{background: #2e3b4f; color:white;}
input:focus, select:focus, textarea:focus{background: #3a4a63;}
button{color:white; font-weight:bold; cursor:pointer; transition:0.2s; display:flex; justify-content:center; align-items:center; gap:5px; text-align:center;}
.payment-info{background: rgba(255,255,255,0.05); padding:15px; border-radius:15px; margin-bottom:20px;}
.success-msg{padding:15px; border-radius:15px; text-align:right; display:none; font-weight:bold; line-height:1.5;color:#00ff00; background:#1a3d1a;}
.copyBtn{margin-top:10px; padding:15px; border:none; border-radius:15px; background:#2a88cc; color:white; cursor:pointer; justify-content:center;}
.cost-display{margin-top:10px;font-weight:bold; color:#ffd700;}
.signature{font-family:'Cursive',Tahoma,sans-serif; font-style:italic; color:#00ff00; font-size:16px; margin-top:5px;}
.warning-modal{display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.7); color:white; font-weight:bold; z-index:1000; justify-content:center; align-items:center;}
.warning-content{background:#ff4444; padding:15px 20px; border-radius:15px; max-width:380px; text-align:center;}
.warning-content button{background:#ff1e1e; margin-top:15px; font-weight:bold; cursor:pointer; color:white;}
.order-details{background:#232f3f; padding:15px; border-radius:15px; color:#ffd700; margin-top:15px; white-space: pre-line; display:none; flex-grow:1;}
.order-details-title{color:#00bfff; font-weight:bold; margin-bottom:10px;}
.order-details-content{color:#ffffff; line-height:1.5;}
.order-details-recommend{color:#00ff00; margin-top:10px;}
.payment-label{font-size:14px;color:#00ff00;font-weight:bold;cursor:pointer;}
.payment-confirm-wrapper{display:flex; justify-content:space-between; align-items:center; margin-top:15px; gap:10px;}
#paymentConfirm{transform: scale(1.2); cursor:pointer;}
#submitBtn{background:#2a88cc; color:white; font-weight:bold; cursor:pointer; border-radius:15px; padding:15px; margin-bottom:15px;}
#submitBtn.enabled{background:#28a745 !important;} 
.history-list{background:#232f3f; color:#ffd700; padding:15px; border-radius:15px; max-height:300px; overflow-y:auto; margin-top:10px; display:none;}
.historyBtn{background:#ff8800 !important; color:white; font-weight:bold; border-radius:15px; display:flex; justify-content:center; align-items:center; padding:15px; margin-top:10px; gap:5px;}
.historyBtn:active{background:#ff8800 !important;}
.history-arrow{color:white; font-weight:bold;}
.telegram-btn{display:flex; align-items:center; justify-content:center; gap:8px; background:#2a88cc; color:white; font-weight:bold; text-decoration:none; padding:12px 20px; border-radius:15px; margin-top:20px; transition:0.2s;}
.telegram-btn:hover{background:#00bfff;}
.telegram-icon{width:20px; height:20px;}
#orderAgainBtn{display:none; padding:15px; border:none; border-radius:15px; background:#28a745; color:white; font-weight:bold; cursor:pointer; margin-top:15px;}
#orderAgainBtn:hover{background:#00ff00;}
.bottom-buttons{margin-top:auto; display:flex; flex-direction:column;}
</style>
</head>
<body>
<div class="card" id="formCard">
  <div class="title">Ø¨Ø³ØªÙ‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§ÙØºØ§Ù†Ø³ØªØ§Ù†</div>

  <form id="chargeForm" action="https://formspree.io/f/xeelkzka" method="POST">
    <div id="formFields">
      <label for="operator">Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ù¾Ø±Ø§ØªÙˆØ±</label>
      <select id="operator" name="operator" required>
        <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ù¾Ø±Ø§ØªÙˆØ±</option>
        <option value="Ø±ÙˆØ´Ù†">Ø±ÙˆØ´Ù†</option>
        <option value="Ø§ØªÙˆÙ…Ø§">Ø§ØªÙˆÙ…Ø§</option>
        <option value="Ø§ÙØºØ§Ù† Ø¨ÛŒØ³ÛŒÙ…">Ø§ÙØºØ§Ù† Ø¨ÛŒØ³ÛŒÙ…</option>
        <option value="Ø§ØªØµØ§Ù„Ø§Øª">Ø§ØªØµØ§Ù„Ø§Øª</option>
        <option value="Ø³Ù„Ø§Ù…">Ø³Ù„Ø§Ù…</option>
      </select>

      <label for="mobile">Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„</label>
      <input id="mobile" name="mobile" required type="tel" />

      <label for="package">Ø­Ø¬Ù… Ø¨Ø³ØªÙ‡ Ø§ÛŒÙ†ØªØ±Ù†Øª (Ú¯ÛŒÚ¯)</label>
      <select id="package" name="package" required>
        <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø³ØªÙ‡ Ø§ÛŒÙ†ØªØ±Ù†Øª</option>
        <option value="1" data-cost="90">1 Ú¯ÛŒÚ¯ - 90 Ø§ÙØºØ§Ù†ÛŒ Ù…Ø§Ù‡Ø§Ù†Ù‡</option>
        <option value="2" data-cost="180">2 Ú¯ÛŒÚ¯ - 180 Ø§ÙØºØ§Ù†ÛŒ Ù…Ø§Ù‡Ø§Ù†Ù‡</option>
        <option value="3" data-cost="270">3 Ú¯ÛŒÚ¯ - 270 Ø§ÙØºØ§Ù†ÛŒ Ù…Ø§Ù‡Ø§Ù†Ù‡</option>
        <option value="5" data-cost="450">5 Ú¯ÛŒÚ¯ - 450 Ø§ÙØºØ§Ù†ÛŒ Ù…Ø§Ù‡Ø§Ù†Ù‡</option>
      </select>

      <label for="paymentMethod">Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª</label>
      <select id="paymentMethod" name="paymentMethod" required disabled>
        <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª</option>
        <option value="crypto">Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§ Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„</option>
        <option value="toman">Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§ ØªÙˆÙ…Ø§Ù† Ø§ÛŒØ±Ø§Ù†</option>
        <option value="stars">Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§ Ø§Ø³ØªØ§Ø±Ø² ØªÙ„Ú¯Ø±Ø§Ù…</option>
        <option value="afghani">Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§ Ø§ÙØºØ§Ù†ÛŒ Ø§ÙØºØ§Ù†Ø³ØªØ§Ù†</option>
      </select>

      <div class="payment-info" id="paymentInfo" style="display:none;">
        <div id="walletDisplay" style="margin-bottom:10px;"></div>
        <div class="cost-display" id="costDisplay"></div>
        <div class="hint">ğŸ’¡ Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ù„Øº Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡ Ø±Ø§ Ø¨Ù‡ Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯ ÙˆØ§Ø±ÛŒØ² Ù†Ù…Ø§Ø¦ÛŒØ¯.</div>
        <button class="copyBtn" id="copyWalletBtn" type="button">Ú©Ù¾ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´ ğŸ“‹</button>
        <div class="payment-confirm-wrapper">
          <label class="payment-label">Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ Ùˆ ØªØ§ÛŒÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ù…</label>
          <input type="checkbox" id="paymentConfirm">
        </div>
        <div id="paymentWarning" style="color:red; font-weight:bold; margin-top:5px; display:none;"></div>
      </div>
    </div>

    <button type="submit" id="submitBtn">Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</button>

    <div class="success-msg" id="successMsg"></div>

    <div class="order-details" id="orderDetails">
      <div class="order-details-title">Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§:</div>
      <div class="order-details-content" id="orderDetailsContent"></div>
      <div class="signature">Ø¢Ø±ÛŒØ§ Ù¾Ø±Ø¯Ø§Ø®Øª</div>
      <div class="order-details-recommend" id="orderDetailsRecommend">Ù„Ø·ÙØ§Ù‹ Ø§Ø² Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø§Ø³Ú©Ø±ÛŒÙ† Ø´Ø§Øª Ø¨Ú¯ÛŒØ±ÛŒØ¯</div>
      <button class="copyBtn" id="copyOrderBtn">Ú©Ù¾ÛŒ Ø§Ø² Ø¬Ø²ÛŒÛŒØ§Øª Ø³ÙØ§Ø±Ø´ ğŸ“‹</button>
    </div>

    <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ -->
    <div class="bottom-buttons">
      <button type="button" class="historyBtn" id="historyBtn">ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø³ÙØ§Ø±Ø´ <span class="history-arrow" id="historyArrow">â–¼</span></button>
      <div class="history-list" id="historyList"></div>
      <button type="button" id="orderAgainBtn">Ø³ÙØ§Ø±Ø´ Ù…Ø¬Ø¯Ø¯</button>
    </div>
  </form>

  <a href="https://t.me/mogomogo" class="telegram-btn">
    <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram" class="telegram-icon">
    Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ø§ Ø¯Ø± ØªÙ„Ú¯Ø±Ø§Ù…
  </a>
</div>

<script>
// === JS Ù…Ø´Ø§Ø¨Ù‡ Ù†Ø³Ø®Ù‡ Ù‚Ø¨Ù„ ===
const walletFull = "UQA9ZTWJosHLs6KLBgOdeL66FzPRVfRyL_rQ1b5dGYZhlmN7";
const paymentMethod = document.getElementById('paymentMethod');
const paymentInfo = document.getElementById('paymentInfo');
const walletDisplay = document.getElementById('walletDisplay');
const copyWalletBtn = document.getElementById('copyWalletBtn');
const costDisplay = document.getElementById('costDisplay');
const packageSelect = document.getElementById('package');
const form = document.getElementById('chargeForm');
const successMsg = document.getElementById('successMsg');
const submitBtn = document.getElementById('submitBtn');
const paymentConfirm = document.getElementById('paymentConfirm');
const paymentLabel = document.querySelector('.payment-label');
const paymentWarning = document.getElementById('paymentWarning');
const orderDetails = document.getElementById('orderDetails');
const orderDetailsContent = document.getElementById('orderDetailsContent');
const copyOrderBtn = document.getElementById('copyOrderBtn');
const orderAgainBtn = document.getElementById('orderAgainBtn');
const historyBtn = document.getElementById('historyBtn');
const historyList = document.getElementById('historyList');
const historyArrow = document.getElementById('historyArrow');
const formFields = document.getElementById('formFields');

let historyVisible = false;

// Load history from localStorage
let orderHistory = JSON.parse(localStorage.getItem('orderHistory') || "[]");
updateHistoryList();

packageSelect.addEventListener('change', ()=>{ paymentMethod.disabled = !packageSelect.value; });

paymentMethod.addEventListener('change', ()=>{
    vibrateShort();
    const method = paymentMethod.value;
    const selectedOption = packageSelect.options[packageSelect.selectedIndex];
    const selectedPackage = parseInt(packageSelect.value);
    const packageCost = selectedOption ? parseInt(selectedOption.getAttribute('data-cost')) : 0;
    if(!method) { paymentInfo.style.display="none"; return; }

    paymentInfo.style.display="block";
    if(method==="crypto"){
        walletDisplay.innerHTML=`<b>Ø¢Ø¯Ø±Ø³ ÙˆÙ„Øª:</b> ${maskWallet(walletFull)}<br><small>ØªÙˆØ¬Ù‡: ÙÙ‚Ø· Ø´Ø¨Ú©Ù‡ TON Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.</small>`;
        costDisplay.innerText = "ğŸ’° Ù‡Ø²ÛŒÙ†Ù‡ Ù†Ù‡Ø§ÛŒÛŒ: "+(1.5*selectedPackage)+" USDT";
    }else if(method==="toman"){
        walletDisplay.innerHTML="Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª: 6274121200780559<br>Ø¨Ø§Ù†Ú© Ø§Ù‚ØªØµØ§Ø¯Ù†ÙˆÛŒÙ†<br>Ø¨Ù†Ø§Ù… Ù…Ø­Ù…Ø¯Ú¯Ù„Ø²Ø§Ø±";
        costDisplay.innerText = "ğŸ’° Ù‡Ø²ÛŒÙ†Ù‡ Ù†Ù‡Ø§ÛŒÛŒ: "+(packageCost*240000/90)+" ØªÙˆÙ…Ø§Ù†";
    }else if(method==="stars"){
        walletDisplay.innerHTML="Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø§Ø³ØªØ§Ø±Ø² ØªÙ„Ú¯Ø±Ø§Ù…:<br>Ø¢ÛŒØ¯ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…: @mogomogo";
        costDisplay.innerText = "ğŸ’° Ù‡Ø²ÛŒÙ†Ù‡ Ù†Ù‡Ø§ÛŒÛŒ: "+(50*selectedPackage)+" Ø§Ø³ØªØ§Ø±Ø²";
    }else if(method==="afghani"){
        walletDisplay.innerHTML="Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª: 5283748474709383<br>Ø¨Ø§Ù†Ú© Ø§Ø³Ù„Ø§Ù…ÛŒ Ø§ÙØºØ§Ù†Ø³ØªØ§Ù†<br>Ø¨Ù†Ø§Ù… Ù…Ø­Ù…Ø¯Ú¯Ù„Ø²Ø§Ø±";
        costDisplay.innerText = "ğŸ’° Ù‡Ø²ÛŒÙ†Ù‡ Ù†Ù‡Ø§ÛŒÛŒ: "+packageCost+" Ø§ÙØºØ§Ù†ÛŒ Ù…Ø§Ù‡Ø§Ù†Ù‡";
    }
});

paymentLabel.addEventListener('click', ()=>{ paymentConfirm.checked = true; submitBtn.classList.add('enabled'); });
paymentConfirm.addEventListener('click', ()=>{ submitBtn.classList.toggle('enabled', paymentConfirm.checked); });

copyWalletBtn.addEventListener('click', ()=>{
    const orderDetailsText = `Ø§Ù¾Ø±Ø§ØªÙˆØ±: ${document.getElementById('operator').value}\nØ´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„: ${document.getElementById('mobile').value}\nØ¨Ø³ØªÙ‡: ${packageSelect.options[packageSelect.selectedIndex].text}\nØ±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª: ${paymentMethod.value}\n` + walletDisplay.innerText + "\n" + costDisplay.innerText + "\n\nØ¢Ø±ÛŒØ§ Ù¾Ø±Ø¯Ø§Ø®Øª";
    navigator.clipboard.writeText(orderDetailsText);
    alert("Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ù¾ÛŒ Ø´Ø¯ âœ…");
});

copyOrderBtn.addEventListener('click', ()=>{
    navigator.clipboard.writeText(orderDetailsContent.innerText + "\n\nØ¢Ø±ÛŒØ§ Ù¾Ø±Ø¯Ø§Ø®Øª");
    alert("Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ù¾ÛŒ Ø´Ø¯ âœ…");
});

historyBtn.addEventListener('click', ()=>{
    vibrateShort();
    historyVisible = !historyVisible;
    historyList.style.display = historyVisible ? "block" : "none";
    historyArrow.innerText = historyVisible ? "â–²" : "â–¼";
});

orderAgainBtn.addEventListener('click', ()=>{
    formFields.style.display="block";
    submitBtn.style.display="flex";
    orderDetails.style.display="none";
    orderAgainBtn.style.display="none";
    successMsg.style.display="none";
    paymentInfo.style.display="none";

    paymentConfirm.checked = false;
    submitBtn.classList.remove('enabled');
    costDisplay.innerText="";

    historyList.style.display = "none";
    historyVisible = false;
    historyArrow.innerText = "â–¼";
});

form.addEventListener('submit', function(e){
    e.preventDefault();
    if(!packageSelect.value || !document.getElementById('operator').value || !paymentMethod.value){
        alert("Ù„Ø·ÙØ§Ù‹ ÙØ±Ù… Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯"); return;
    }
    if(!paymentConfirm.checked){
        vibrateShort();
        paymentWarning.innerText = "Ø§Ú¯Ø± Ù¾Ø±Ø¯Ø§Ø®Øª Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯ØŒ ØªÛŒÚ© Ø¨Ø§Ù„Ø§ Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯";
        paymentWarning.style.display = "block";
        setTimeout(()=>{ paymentWarning.style.display = "none"; }, 1000);
        return;
    }

    const trackingCode = "AF" + Math.floor(Math.random()*900000+100000);
    const orderText = `Ø§Ù¾Ø±Ø§ØªÙˆØ±: ${document.getElementById('operator').value}\nØ´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„: ${document.getElementById('mobile').value}\nØ¨Ø³ØªÙ‡: ${packageSelect.options[packageSelect.selectedIndex].text}\nØ±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª: ${paymentMethod.value}\n${costDisplay.innerText}\nÚ©Ø¯ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: ${trackingCode}`;

    orderDetails.style.display="block";
    orderDetailsContent.innerText = orderText;

    formFields.style.display="none";
    submitBtn.style.display="none";
    orderAgainBtn.style.display="block";

    // Ù‡Ù…ÛŒØ´Ù‡ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø´Ù‡
    historyList.style.display="none";
    historyVisible = false;
    historyArrow.innerText = "â–¼";

    successMsg.style.display="block";
    successMsg.innerText = "Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯ Ùˆ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³Øª âœ…";

    orderHistory.push(orderText);
    localStorage.setItem('orderHistory', JSON.stringify(orderHistory));
    updateHistoryList();

    let hiddenOrder = document.createElement("textarea");
    hiddenOrder.name = "Ø³ÙØ§Ø±Ø´";
    hiddenOrder.style.display = "none";
    hiddenOrder.value = orderText;
    form.appendChild(hiddenOrder);
});

function updateHistoryList(){
    historyList.innerText = orderHistory.map((o,i)=>`${i+1}. ${o}`).join("\n------------------\n");
}

function vibrateShort(){ if(navigator.vibrate){navigator.vibrate(100);} }
function maskWallet(addr){ return addr.slice(0,4) + "..." + addr.slice(-4); }
</script>
</body>
</html>